<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="pragma" content="no-cache">   
	<meta http-equiv="Cache-Control" content="no-cache,must-revalidate">   
	<meta http-equiv="expires" content="Wed,   26   Feb   1997   08:21:57   GMT">   
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-touch-fullscreen" content="yes">
	<meta name="format-detection" content="telephone=no">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="robots" content="NOINDEX,NOFOLLOW,NOARCHIVE">
	<title>Document</title>
	<style type="text/css">
		*{margin: 0;padding: 0;box-sizing: border-box;}
		.box{border:1px solid;margin: 40px auto;padding: 15px;word-break:break-all; word-wrap:break-word;line-height: 20px;font-size: 16px;max-width: 640px;}
		.del{float: right;}
		.info{list-style: none;display: none;}
		.btn{margin-bottom: 20px;}
		.info li{padding: 10px 0;border-bottom: 1px solid #ccc;}
		textarea{outline: 0;display: block;width: 100%;height: 100px;padding: 6px 12px;font-size: 14px;line-height: 1.42857143;color: #555;border: 1px solid #ccc;margin: 5px 0;}
	</style>
</head>
<body>
	<div class="box" id="box">
		<div class="form-group">
			<label for="textarea">发表评论</label>
			<textarea id="textarea" class="form-control" placeholder="请输入。。。"></textarea>
		</div>
		<div><button type="button" id="btn">发布</button></div>
		<ul id="info" class="info"></ul>
	</div>

	<script type="text/javascript">
		window.onload=function () {
			var btn=document.getElementById('btn');
			var textarea=document.getElementById('textarea');
			var box=document.getElementById('box');
			var info=document.getElementById('info');

			btn.onclick=function () {
				var content=textarea.value;

				if (!content) {
					alert('评论框不能为空');
					return;
				}

			    info.style.display='block';
                var item=document.createElement('li');

                item.innerHTML=content+'<a href="javascript:;" class="del">删除</a>';
                if (info.children.length>0) {
	                info.insertBefore(item,info.firstChild);
                }else{
                	info.appendChild(item);
                }
                textarea.value=''; 

                if (info.getElementsByTagName('a')) {
                	var dels=info.getElementsByTagName('a');
                	for (var i = 0; i < dels.length; i++) {
                		dels[i].onclick=function () {
                			info.removeChild(this.parentNode);
                		}
                	}
                }

                
			}
		}
	</script>
</body>
</html>